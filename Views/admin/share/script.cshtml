<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/jquery-jvectormap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jvectormap/2.0.5/maps/jquery-jvectormap-world-mill.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script> -->



<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const sidebar = document.getElementById("sidebar");
        const toggleIcon = document.getElementById("toggleIcon");

        // Khôi phục trạng thái sidebar từ localStorage
        const savedState = localStorage.getItem("sidebarExpanded");
        if (savedState === "true") {
            sidebar.classList.add("expanded");
        } else {
            sidebar.classList.remove("expanded");
        }

        // Hàm toggle mở rộng
        window.toggleSidebarExpand = function () {
            const isExpanded = sidebar.classList.toggle("expanded");
            localStorage.setItem("sidebarExpanded", isExpanded ? "true" : "false");

            if (toggleIcon) {
                toggleIcon.classList.remove("fa-light", "fa-gear-complex");
                toggleIcon.classList.add("fa-light", "fa-gear-complex");
            }
        };

        // === Hiển thị Toast nếu có ===
        const successMsg = document.getElementById("toast-success-msg")?.value || "";
        const errorMsg = document.getElementById("toast-error-msg")?.value || "";

        if (successMsg.trim() !== "" || errorMsg.trim() !== "") {
            setTimeout(() => {
                if (successMsg.trim() !== "") {
                    new bootstrap.Toast(document.getElementById('successToast'), { delay: 5000 }).show();
                }
                if (errorMsg.trim() !== "") {
                    new bootstrap.Toast(document.getElementById('errorToast'), { delay: 5000 }).show();
                }
            }, 150);
        }
    });
</script>
<script>
        function toggleSidebar(forceClose = false) {
        const sidebar = document.getElementById("sidebar");
        const overlay = document.querySelector(".overlay");

        if (forceClose) {
            sidebar.classList.remove("active");
            overlay.classList.remove("active");
        } else {
            sidebar.classList.toggle("active");
            overlay.classList.toggle("active");
        }
    }

    function toggleSidebarExpand() {
        const sidebar = document.getElementById("sidebar");
        const toggleIcon = document.getElementById("toggleIcon");

        const isExpanded = sidebar.classList.toggle("expanded");
        localStorage.setItem("sidebarExpanded", isExpanded ? "true" : "false");

        // (Tuỳ bạn muốn đổi icon không, tạm giữ nguyên)
        toggleIcon.classList.remove("fa-light", "fa-gear-complex");
        toggleIcon.classList.add("fa-light", "fa-gear-complex");
    }

    // Close sidebar when clicking on menu items on mobile
    document.querySelectorAll(".menu-item").forEach((item) => {
        item.addEventListener("click", () => {
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }
        });
    });

    // Handle tab switching
    document.querySelectorAll(".tab").forEach((tab) => {
        tab.addEventListener("click", function () {
            document
                .querySelectorAll(".tab")
                .forEach((t) => t.classList.remove("active"));
            this.classList.add("active");
        });
    });

    // Handle menu item switching
    // document.querySelectorAll(".menu-item").forEach((item) => {
    //     item.addEventListener("click", function (e) {
    //         e.preventDefault();
    //         document
    //             .querySelectorAll(".menu-item")
    //             .forEach((i) => i.classList.remove("active"));
    //         this.classList.add("active");
    //     });
    // });

    // Add smooth animations for buttons
    document.querySelectorAll(".btn, .action-btn").forEach((btn) => {
        btn.addEventListener("mouseenter", function () {
            this.style.transform = "translateY(-2px)";
        });

        btn.addEventListener("mouseleave", function () {
            this.style.transform = "translateY(0)";
        });
    });

</script>



