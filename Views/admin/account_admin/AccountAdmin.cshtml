<!DOCTYPE html>
<html lang="vi">
 @Html.Partial("~/Views/admin/share/head.cshtml")


<body>
    <!-- Header -->
    @Html.Partial("~/Views/admin/share/header.cshtml")

    <!-- Overlay for mobile -->
    <div class="overlay" onclick="toggleSidebar()"></div>

    <div class="container-content">
        <!-- Sidebar -->
        @Html.Partial("~/Views/admin/share/menu.cshtml")

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1 class="content-title">Manage Account</h1>
                <div class="action-buttons">
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addModal">
                        <i class="fas fa-plus"></i>
                        Add New
                    </button>
                    <!-- <button class="btn btn-success">
                      <i class="fas fa-file-export"></i>
                      Xuất Excel
                    </button> -->
                </div>
            </div>

            <!-- Table 1 -->
            <!-- <div class="table-container">
              <div class="table-header">
                <h3 class="table-title">List Tour</h3>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Name Tour</th>
                    <th>Price</th>
                    <th>Address</th>
                    <th>Departure Date</th>
                    <th>End Date</th>
                    <th>Status</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>VietNam</td>
                    <td>5.000.000 VND</td>
                    <td>Hà Giang</td>
                    <td>13/09/2025</td>
                    <td>16/09/2025</td>
                    <td><span class="status admit">ready</span></td>
                    <td>
                      <div class="action-btns">
                        <button class="action-btn edit">
                          <i class="fas fa-edit"></i>
                        </button>
                        <button class="action-btn delete">
                          <i class="fas fa-trash"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div> -->
            <!-- Table 2 -->
            <div class="table-container">
                <div class="table-header">
                    <!-- <h1 class="table-title">Manage Account</h1> -->
                </div>
                <table>
                    <thead>
                        <tr>
                            <th></th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Password</th>
                            <th>Phone</th>
                            <th>Address</th>
                            <th>Role</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <input type="checkbox" />
                            </td>
                            <td>
                                <div class="user-info">
                                    Nguyễn Văn A
                                </div>
                            </td>
                            <td>caunguyen.221@gmail.com</td>
                            <td>********</td>
                            <td>0909090909</td>
                            <td>Quảng Nam</td>
                            <td>Normal</td>
                            <td><button class="status admit" style="border: none; outline: none;">Active</button></td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="checkbox" />
                            </td>
                            <td>
                                <div class="user-info">
                                    Nguyễn Văn B
                                </div>
                            </td>
                            <td>caunguyen@gmail.com</td>
                            <td>********</td>
                            <td>0938080808</td>
                            <td>Quảng Nam Đà Nẵng</td>
                            <td>SVIP</td>
                            <td><button class="status admit" style="border: none; outline: none; background-color: #dc3545;">Disable</button></td>
                            <td>
                                <div class="action-btns">
                                    <button class="action-btn edit" data-bs-toggle="modal" data-bs-target="#editModal">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="action-btn delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </main>
    </div>




    <!-- Modal Thêm Admin -->
    <div class="modal fade" id="addModal" tabindex="-1" aria-labelledby="addModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addModalLabel">Thêm Admin Mới</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="${pageContext.request.contextPath}/admins/account" method="POST" onsubmit="return validateAddAdminForm()">
                        <input type="hidden" name="action" value="add">

                        <div class="mb-3">
                            <label for="addName" class="form-label">Tên</label>
                            <input type="text" class="form-control" id="addName" name="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="addEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="addEmail" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="addPassword" class="form-label">Mật khẩu</label>
                            <input type="password" class="form-control" id="addPassword" name="password" required>
                        </div>
                        <div class="mb-3">
                            <label for="addPhone" class="form-label">Số điện thoại</label>
                            <input type="text" class="form-control" id="addPhone" name="phone" required>
                        </div>
                        <div class="mb-3">
                            <label for="addAddress" class="form-label">Địa chỉ</label>
                            <input type="text" class="form-control" id="addAddress" name="address" required>
                        </div>
                        <div class="mb-3">
                            <label for="addRole" class="form-label">Vai trò</label>
                            <select class="form-control" id="addRole" name="role" required>
                                <option value="Normal">Admin</option>
                                <option value="SVIP">Provider</option>
                                <option value="SVIP">Employee</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="addStatus" class="form-label">Trạng thái</label>
                            <select class="form-control" id="addStatus" name="status" required>
                                <option value="Active">Active</option>
                                <option value="Disable">Disable</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-success">Thêm Admin</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!-- Modal Cập Nhật -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Cập nhật Admin</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="${pageContext.request.contextPath}/admins/account" method="POST" onsubmit="return validateEditAdminForm()">
                        <input type="hidden" name="action" value="update">
                        <input type="hidden" name="adminID" id="editAdminID">

                        <div class="mb-3">
                            <label for="editName" class="form-label">Tên</label>
                            <input type="text" class="form-control" id="editName" name="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="editEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="editEmail" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="editPassword" class="form-label">Mật khẩu (nếu thay đổi)</label>
                            <input type="password" class="form-control" id="editPassword" name="password">
                        </div>
                        <div class="mb-3">
                            <label for="editPhone" class="form-label">Số điện thoại</label>
                            <input type="text" class="form-control" id="editPhone" name="phone" required>
                        </div>
                        <div class="mb-3">
                            <label for="editAddress" class="form-label">Địa chỉ</label>
                            <input type="text" class="form-control" id="editAddress" name="address" required>
                        </div>
                        <div class="mb-3">
                            <label for="editRole" class="form-label">Vai trò</label>
                            <select class="form-control" id="editRole" name="role" required>
                                <option value="Normal">Admin</option>
                                <option value="SVIP">Provider</option>
                                <option value="SVIP">Employee</option>

                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="editStatus" class="form-label">Trạng thái</label>
                            <select class="form-control" id="editStatus" name="status" required>
                                <option value="Active">Active</option>
                                <option value="Disable">Disable</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Cập nhật</button>
                    </form>
                </div>
            </div>
        </div>
    </div>




    <script>
        function toggleSidebar() {
          const sidebar = document.getElementById("sidebar");
          const overlay = document.querySelector(".overlay");

          sidebar.classList.toggle("active");
          overlay.classList.toggle("active");
        }

        function toggleSidebarExpand() {
          const sidebar = document.getElementById("sidebar");
          const toggleIcon = document.getElementById("toggleIcon");

          sidebar.classList.toggle("expanded");

          if (sidebar.classList.contains("expanded")) {
            toggleIcon.classList.remove("fa-light fa-gear-complex");
            toggleIcon.classList.add("fa-light fa-gear-complex");
          } else {
            toggleIcon.classList.remove("fa-light fa-gear-complex");
            toggleIcon.classList.add("fa-light fa-gear-complex");
          }
        }

        // Close sidebar when clicking on menu items on mobile
        document.querySelectorAll(".menu-item").forEach((item) => {
          item.addEventListener("click", () => {
            if (window.innerWidth <= 768) {
              toggleSidebar();
            }
          });
        });

        // Handle tab switching
        document.querySelectorAll(".tab").forEach((tab) => {
          tab.addEventListener("click", function () {
            document
              .querySelectorAll(".tab")
              .forEach((t) => t.classList.remove("active"));
            this.classList.add("active");
          });
        });

        // Handle menu item switching
        document.querySelectorAll(".menu-item").forEach((item) => {
          item.addEventListener("click", function (e) {
            e.preventDefault();
            document
              .querySelectorAll(".menu-item")
              .forEach((i) => i.classList.remove("active"));
            this.classList.add("active");
          });
        });

        // Add smooth animations for buttons
        document.querySelectorAll(".btn, .action-btn").forEach((btn) => {
          btn.addEventListener("mouseenter", function () {
            this.style.transform = "translateY(-2px)";
          });

          btn.addEventListener("mouseleave", function () {
            this.style.transform = "translateY(0)";
          });
        });
    </script>
</body>
</html>
